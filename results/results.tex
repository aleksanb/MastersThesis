\chapter{Results}

\section{Required reservoir size, optimal input connectivity}

We wish to accomplish two things: What is the minimum required reservoir size that is still able to complete a chosen task with close to 100\% accuracy, as well as what are the optimal input connectivities for these reservoirs.

%\begin{figure*}[ht]
%    \centering
%    \resizebox{\textwidth}{!}{
%        \subfloat[N=10]{
%            \input{results/figures/lowres/boxplot-N10-K3-S30.tex}
%        }
%        \subfloat[N=20]{
%            \input{results/figures/lowres/boxplot-N20-K3-S30.tex}
%        }
%        \subfloat[N=30]{
%            \input{results/figures/lowres/boxplot-N30-K3-S30.tex}
%        }
%    }
%    \resizebox{\textwidth}{!}{
%        \subfloat[N=40]{
%            \input{results/figures/lowres/boxplot-N40-K3-S30.tex}
%        }
%        \subfloat[N=50]{
%            \input{results/figures/lowres/boxplot-N50-K3-S30.tex}
%        }
%        \subfloat[N=60]{
%            \input{results/figures/lowres/boxplot-N60-K3-S30.tex}
%        }
%    }
%    \resizebox{\textwidth}{!}{
%        \subfloat[N=70]{
%            \input{results/figures/lowres/boxplot-N70-K3-S30.tex}
%        }
%        \subfloat[N=80]{
%            \input{results/figures/lowres/boxplot-N80-K3-S30.tex}
%        }
%        \subfloat[N=90]{
%            \input{results/figures/lowres/boxplot-N90-K3-S30.tex}
%        }
%    }
%    \resizebox{\textwidth}{!}{
%        \subfloat[N=100]{
%            \input{results/figures/lowres/boxplot-N100-K3-S30.tex}
%        }
%    }
%\end{figure*}

\subsection{Temporal parity with t=3}

We solve for both problems at the same time by creating reservoirs with parameters as specified in table \ref{tab:results:reservoir-parameters-task1}.
The result can be seen in figures \ref{fig:results:task1-ic1} and \ref{fig:results:task1-ic2}.

\begin{table}[ht]
    \centering
    \caption{Reservoir parameters for task 1}
    \label{tab:results:reservoir-parameters-task1}
    \begin{tabular}{ll}
        Connectivity        & 3                         \\
        Nodes               & 10 to 50                  \\
        Input connectivity  & 0 to Nodes (10 step size) \\
        Output connectivity & Nodes                     \\
        Sample size         & 30
    \end{tabular}
\end{table}

\begin{figure*}[ht]
    \centering
    \resizebox{\textwidth}{!}{
        \subfloat[N=10]{
            \input{results/figures/hires/boxplot-N10-K3-S30.tex}
        }
        \subfloat[N=15]{
            \input{results/figures/hires/boxplot-N15-K3-S30.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=20]{
            \input{results/figures/hires/boxplot-N20-K3-S30.tex}
        }
        \subfloat[N=25]{
            \input{results/figures/hires/boxplot-N25-K3-S30.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=30]{
            \input{results/figures/hires/boxplot-N30-K3-S30.tex}
        }
        \subfloat[N=35]{
            \input{results/figures/hires/boxplot-N35-K3-S30.tex}
        }
    }
    \label{fig:results:task1-ic1}
    \caption{Plots for task 1 - part 1}
\end{figure*}

\begin{figure*}[ht]
    \centering
    \resizebox{\textwidth}{!}{
        \subfloat[N=40]{
            \input{results/figures/hires/boxplot-N40-K3-S30.tex}
        }
        \subfloat[N=45]{
            \input{results/figures/hires/boxplot-N45-K3-S30.tex}
        }
    }
    \resizebox{0.5\textwidth}{!}{
        \subfloat[N=50]{
            \input{results/figures/hires/boxplot-N50-K3-S30.tex}
        }
    }
    \label{fig:results:task1-ic2}
    \caption{Plots for task 1 - part 2}
\end{figure*}

We see that even for the smallest reservoir combination (N=10, IC=5) there are reservoirs able to solve the task with an accuracy of 100\%, even though they are outliers compared to the rest of the distribution.
All larger reservoirs are able to solve the task, with the mean accuracy of the distribution increasing as the size of the reservoir increases.

The optimal input connectivity can be identified visually as being roughly $IC = Nodes / 2$ (the x axis is scaled from 0 to Nodes).
This indicates that larger networks need a larger degree of perturbance to be able to accurately compute the result,
but that the optimal connectivity for all these reservoirs should lie at one half of the number of nodes seems rather convenient.
\todo{Should change x-axis to be consistently to 50 for more correct comparisons}

\subsection{Temporal parity with t=5}

A much larger network is required before the required accuracy is achieved on this task.
At N=80 there is an outlier able to achieve 100\% accuracy, but consistent 100\% accuracy isn't achieved before N=100, then at a connectivity of 55.

Observe that for each reservoir size, the accuracy distribution is the greatest for input connectivities close to $Nodes / 2$.
Again the x axis has been scaled to a max value of the current reservoirs number of nodes.

\begin{figure*}[ht]
    \centering
    \resizebox{\textwidth}{!}{
        \subfloat[N=10]{
            \input{results/figures/t5/boxplot-N10-K3-S30.tex}
        }
        \subfloat[N=15]{
            \input{results/figures/t5/boxplot-N15-K3-S30.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=20]{
            \input{results/figures/t5/boxplot-N20-K3-S30.tex}
        }
        \subfloat[N=25]{
            \input{results/figures/t5/boxplot-N25-K3-S30.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=30]{
            \input{results/figures/t5/boxplot-N30-K3-S30.tex}
        }
        \subfloat[N=35]{
            \input{results/figures/t5/boxplot-N35-K3-S30.tex}
        }
    }
    \caption{Task 2 - Part 1}
\end{figure*}

\begin{figure*}[ht]
    \centering
    \resizebox{\textwidth}{!}{
        \subfloat[N=40]{
            \input{results/figures/t5/boxplot-N40-K3-S30.tex}
        }
        \subfloat[N=45]{
            \input{results/figures/t5/boxplot-N45-K3-S30.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=50]{
            \input{results/figures/t5/boxplot-N50-K3-S30.tex}
        }
        \subfloat[N=55]{
            \input{results/figures/t5/boxplot-N55-K3-S30.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=60]{
            \input{results/figures/t5/boxplot-N60-K3-S30.tex}
        }
        \subfloat[N=65]{
            \input{results/figures/t5/boxplot-N65-K3-S30.tex}
        }
    }
    \caption{Task 2 - Part 2}
\end{figure*}

\begin{figure*}[ht]
    \centering
    \resizebox{\textwidth}{!}{
        \subfloat[N=70]{
            \input{results/figures/t5/boxplot-N70-K3-S30.tex}
        }
        \subfloat[N=75]{
            \input{results/figures/t5/boxplot-N75-K3-S30.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=80]{
            \input{results/figures/t5/boxplot-N80-K3-S30.tex}
        }
        \subfloat[N=85]{
            \input{results/figures/t5/boxplot-N85-K3-S30.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=90]{
            \input{results/figures/t5/boxplot-N90-K3-S30.tex}
        }
        \subfloat[N=95]{
            \input{results/figures/t5/boxplot-N95-K3-S30.tex}
        }
    }
    \resizebox{0.5\textwidth}{!}{
        \subfloat[N=100]{
            \input{results/figures/t5/boxplot-N100-K3-S30.tex}
        }
    }
    \caption{Task 2 - Part 3}
\end{figure*}

\section{Optimal output connectivity}

To reduce the number of reservoir combinations we create in search of the optimal output connectivity,
we'll use the finding from the previous section that optimal input connectivity most often is found at $IC=Nodes/2$.
We'll then map the accuracies of reservoirs up against their output connectivities, as we did against their input connectivities in the previous section.

\subsection{Task 1}

We now test required output connectivity for task 1 on reservoirs of $size <= 100$.
Seems like it's enough to read around 10 of the nodes in the network,
which is interesting, as this is the same number of nodes that are required to solve the task in the first place!

\begin{figure*}[ht]
    \centering
    \resizebox{\textwidth}{!}{
        \subfloat[N=10]{
            \input{results/figures/optimal-output-connectivity/boxplot-N10-K3-S30-output_connectivity.tex}
        }
        \subfloat[N=20]{
            \input{results/figures/optimal-output-connectivity/boxplot-N20-K3-S30-output_connectivity.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=30]{
            \input{results/figures/optimal-output-connectivity/boxplot-N30-K3-S30-output_connectivity.tex}
        }
        \subfloat[N=40]{
            \input{results/figures/optimal-output-connectivity/boxplot-N40-K3-S30-output_connectivity.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=50]{
            \input{results/figures/optimal-output-connectivity/boxplot-N50-K3-S30-output_connectivity.tex}
        }
        \subfloat[N=60]{
            \input{results/figures/optimal-output-connectivity/boxplot-N60-K3-S30-output_connectivity.tex}
        }
    }
    \caption{Plots for optimal input task 1 - part 1}
\end{figure*}

\begin{figure*}[ht]
    \resizebox{\textwidth}{!}{
        \subfloat[N=80]{
            \input{results/figures/optimal-output-connectivity/boxplot-N70-K3-S30-output_connectivity.tex}
        }
        \subfloat[N=90]{
            \input{results/figures/optimal-output-connectivity/boxplot-N90-K3-S30-output_connectivity.tex}
        }
    }
    \resizebox{0.5\textwidth}{!}{
        \subfloat[N=100]{
            \input{results/figures/optimal-output-connectivity/boxplot-N100-K3-S30-output_connectivity.tex}
        }
    }
    \caption{Plots for optimal input task 1 - part 1}
\end{figure*}

\subsection{Task 2}

We now test the required output connectivity for reservoirs working on task 2.
Sample size has been increased to 50 due to me being unsure if 30 might have been to little,
especially considering the randomness involved when sampling a subset of nodes for regression.

It seems that the same finding from task 1 holds, that as soon as your reservoir is larger than the one required to solve a task (in this case somewhere around 80-90) you no longer need more readout than that to solve the task for even bigger reservoirs.
Whoop de doo!

\begin{figure*}[ht]
    \centering
    \resizebox{\textwidth}{!}{
        \subfloat[N=10]{
            \input{results/figures/t5-optimal-out/boxplot-N10-K3-S50-output_connectivity.tex}
        }
        \subfloat[N=20]{
            \input{results/figures/t5-optimal-out/boxplot-N20-K3-S50-output_connectivity.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=30]{
            \input{results/figures/t5-optimal-out/boxplot-N30-K3-S50-output_connectivity.tex}
        }
        \subfloat[N=40]{
            \input{results/figures/t5-optimal-out/boxplot-N40-K3-S50-output_connectivity.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=50]{
            \input{results/figures/t5-optimal-out/boxplot-N50-K3-S50-output_connectivity.tex}
        }
        \subfloat[N=60]{
            \input{results/figures/t5-optimal-out/boxplot-N60-K3-S50-output_connectivity.tex}
        }
    }
    \caption{Plots for optimal input task 2 - part 1}
\end{figure*}

\begin{figure*}[ht]
    \centering
    \resizebox{\textwidth}{!}{
        \subfloat[N=70]{
            \input{results/figures/t5-optimal-out/boxplot-N70-K3-S50-output_connectivity.tex}
        }
        \subfloat[N=80]{
            \input{results/figures/t5-optimal-out/boxplot-N80-K3-S50-output_connectivity.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=90]{
            \input{results/figures/t5-optimal-out/boxplot-N90-K3-S50-output_connectivity.tex}
        }
        \subfloat[N=100]{
            \input{results/figures/t5-optimal-out/boxplot-N100-K3-S50-output_connectivity.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=110]{
            \input{results/figures/t5-optimal-out/boxplot-N110-K3-S50-output_connectivity.tex}
        }
        \subfloat[N=120]{
            \input{results/figures/t5-optimal-out/boxplot-N120-K3-S50-output_connectivity.tex}
        }
    }
    \caption{Plots for optimal input task 2 - part 2}
\end{figure*}

\begin{figure*}[ht]
    \centering
    \resizebox{\textwidth}{!}{
        \subfloat[N=130]{
            \input{results/figures/t5-optimal-out/boxplot-N130-K3-S50-output_connectivity.tex}
        }
        \subfloat[N=140]{
            \input{results/figures/t5-optimal-out/boxplot-N140-K3-S50-output_connectivity.tex}
        }
    }
    \resizebox{0.5\textwidth}{!}{
        \subfloat[N=150]{
            \input{results/figures/t5-optimal-out/boxplot-N150-K3-S50-output_connectivity.tex}
        }
    }
    \caption{Plots for optimal input task 2 - part 3}
\end{figure*}
