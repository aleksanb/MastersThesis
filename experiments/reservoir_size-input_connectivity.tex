\section{Minimum required reservoir size, optimal input connectivity}

As shown in my previous paper \cite{MyPreviousPaper},
there are a plethora of RRC systems with $N=100, K=\{2, 3\}$ that solve the Temporal Parity task for a window size of both 3 and 5,
The reservoirs with $K=3$ had a higher density of success in general,
and the larger reservoirs fared better on the task with window size 5.

Presumably the same tasks can be solved with smaller reservoirs,
the question being how small they can be while retaining accurarcy.
As the optimal reservoir size and input connectivity might depend on the task at hand,
we test our reservoirs on both the Temporal Parity \ref{missing} and Temporal Density \ref{missing}
tasks with window sizes of both 3 and 5 (as specified in table \ref{tab:tasks}).

\begin{table}[ht]
  \centering
  \caption{Task parameters}
  \label{tab:tasks}
  \begin{tabular}{ll}
    Task type               & Temporal Parity and Density \\
    Training dataset length & 4 000                       \\
    Test dataset length     & 200                         \\
    $N$ (window size)       & 3 and 5                     \\
    $t$ (offset)            & 0
  \end{tabular}
\end{table}

To find the optimal reservoir size and input connectivity,
we'll randomly initialize 50 reservoirs for each combination of the reservoir parameters in table \ref{tab:ic-reservoir-parameters}.

For our experiments we'll only be looking at reservoirs with $K=3$.
As well as being more useful due to the homogenous degree of the network (to simulate $\langle K \rangle = 2 $) and
having a higher population accuracy, it reduces the number of parameter combination we have to simulate.

\begin{table}[ht]
    \centering
    \caption{Reservoir parameters for optimal input connectivity}
    \label{tab:ic-reservoir-parameters}
    \begin{tabular}{ll}
        Nodes               & [10..(100, 140)], step size=10 \\
        Connectivity        & 3                              \\
        Input connectivity  & [0..n\_nodes], step size = 5   \\
		Output connectivity & n\_nodes                       \\
        Sample size         & 50
    \end{tabular}
\end{table}

After plotting the resulting accuracies on the previously mentioned tasks,
one should be able to visually identify the minimum required reservoir size for the given task,
as well as what the optimal input connectivity might be, as a function of reservoir size and task.

\label{experiments:1:results}
\subsection{Results}

\begin{figure*}[ht]
    \centering
    \caption{Plots of input connectivity against accuracy on TP3 - Part 1 of 2}
    \label{fig:TP3-IC-1}
    \resizebox{\textwidth}{!}{
        \subfloat[N=10]{
            \input{experiments/results/TP3-IO/boxplot-input_connectivity-N10-K3-S50.tex}
        }
        \subfloat[N=20]{
            \input{experiments/results/TP3-IO/boxplot-input_connectivity-N20-K3-S50.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=30]{
            \input{experiments/results/TP3-IO/boxplot-input_connectivity-N30-K3-S50.tex}
        }
        \subfloat[N=40]{
            \input{experiments/results/TP3-IO/boxplot-input_connectivity-N40-K3-S50.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=50]{
            \input{experiments/results/TP3-IO/boxplot-input_connectivity-N50-K3-S50.tex}
        }
        \subfloat[N=60]{
            \input{experiments/results/TP3-IO/boxplot-input_connectivity-N60-K3-S50.tex}
        }
    }
\end{figure*}

\begin{figure*}[ht]
    \centering
    \caption{Plots of input connectivity against accuracy on TP3 - Part 2 of 2}
    \label{fig:TP3-IC-2}
    \resizebox{\textwidth}{!}{
        \subfloat[N=70]{
            \input{experiments/results/TP3-IO/boxplot-input_connectivity-N70-K3-S50.tex}
        }
        \subfloat[N=80]{
            \input{experiments/results/TP3-IO/boxplot-input_connectivity-N80-K3-S50.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=90]{
            \input{experiments/results/TP3-IO/boxplot-input_connectivity-N90-K3-S50.tex}
        }
        \subfloat[N=100]{
            \input{experiments/results/TP3-IO/boxplot-input_connectivity-N100-K3-S50.tex}
        }
    }
\end{figure*}

\begin{figure*}[ht]
    \centering
    \caption{Plots of input connectivity against accuracy on TP5 - Part 1 of 2}
    \label{fig:TP5-IC-1}
    \resizebox{\textwidth}{!}{
        \subfloat[N=30]{
            \input{experiments/results/TP5-IO/boxplot-input_connectivity-N30-K3-S50.tex}
        }
        \subfloat[N=40]{
            \input{experiments/results/TP5-IO/boxplot-input_connectivity-N40-K3-S50.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=50]{
            \input{experiments/results/TP5-IO/boxplot-input_connectivity-N50-K3-S50.tex}
        }
        \subfloat[N=60]{
            \input{experiments/results/TP5-IO/boxplot-input_connectivity-N60-K3-S50.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=70]{
            \input{experiments/results/TP5-IO/boxplot-input_connectivity-N70-K3-S50.tex}
        }
        \subfloat[N=80]{
            \input{experiments/results/TP5-IO/boxplot-input_connectivity-N80-K3-S50.tex}
        }
    }
\end{figure*}

\begin{figure*}[ht]
    \centering
    \caption{Plots of input connectivity against accuracy on TP5 - Part 2 of 2}
    \label{fig:TP5-IC-2}
    \resizebox{\textwidth}{!}{
        \subfloat[N=90]{
            \input{experiments/results/TP5-IO/boxplot-input_connectivity-N90-K3-S50.tex}
        }
        \subfloat[N=100]{
            \input{experiments/results/TP5-IO/boxplot-input_connectivity-N100-K3-S50.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=110]{
            \input{experiments/results/TP5-IO/boxplot-input_connectivity-N110-K3-S50.tex}
        }
        \subfloat[N=120]{
            \input{experiments/results/TP5-IO/boxplot-input_connectivity-N120-K3-S50.tex}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[N=130]{
            \input{experiments/results/TP5-IO/boxplot-input_connectivity-N130-K3-S50.tex}
        }
        \subfloat[N=140]{
            \input{experiments/results/TP5-IO/boxplot-input_connectivity-N140-K3-S50.tex}
        }
    }
\end{figure*}

\begin{table}[ht]
    \centering
    \caption{The smallest reservoir sizes where at least two reservoirs have the required accuracy}
    \label{tab:accuracy-thresholds}
    \begin{tabular}{lllll}
                     & TP3 & TP5 & TD3 & TD5 \\
    90\% accuracy threshold & 15  & 70  & 10  & 30  \\
    98\% accuracy threshold & 20  & 90 & 10  & 55
    \end{tabular}
\end{table}


We calculate the optimal input connectivity for each task as follows:
$$ optimal\_ic^{task} = average(optimal\_ic_{n\_nodes}^{task} / n\_nodes) $$
where $ optimal\_ic_{n\_nodes}^{task} $ is the connectivity which gives the highest number of high-accuracy reservoirs for that task and reservoir size.
Results are created from the data behind figures \ref{fig:TP3-IC-1} through \ref{fig:TP5-IC-2},
and tabulated in \ref{tab:optimal-ic}.

\begin{table}[h]
	\centering
	\caption{Optimal input connectivities as fraction of reservoir size for task-window size combinations }
	\label{tab:optimal-ic}
	\begin{tabular}{lllll}
						 & $T=3$  & $T=5$ \\
        Temporal Parity  & 0.528          & 0.489         \\
        Temporal Density & 0.439          & 0.443
	\end{tabular}
\end{table}

\subsection{Discussion}

As seen in figures \ref{fig:results:tp3-1}–\ref{fig:results:tp3-2},
a reservoir size of XX is sufficient to solve the Temporal Parity 3 task.
In figures \ref{fig:results:tp5-1}–\ref{fig:results:tp5-4},
a reservoir size of XX is sufficient to solve the Temporal Parity 5 task.

Notice for all plots, that the highest population accuracies are found when the input connectivity is roughly half of the reservoir size, or $IC=n\_nodes/2$.
As this holds for both tasks (Temporal Parity 3 and 5), there seems to be no correlation between task difficulty and required input connectivity.
In \cm{thatpaperwiththeoreticalcomputationsforinputconnectivity}, the reservoir connectivity is the main factor in how large a perturbance of the is required.
In my previous paper, \cm{prevpaper}, a larger connectivity resulted in a higher required connectivity.
These findings might therefore not be generalizable to reservoirs with other connectivities.
