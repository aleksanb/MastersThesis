\section{Analyzing reservoir dynamics}
\label{section:reservoir-dynamics}

\subsection{Description}

When analyzing Random Boolean Networks one often does so in aggregate,
looking at the population averages of the attributes of RBNs of a certain construction.
This due to there being large variances in individual RBN dynamics \cite{gershenson2004introduction}.
One often looks at whether the average network is chaotic, stable, or critical,
and the number of attractors, their size, their basins, and state-space transient times.
The expected averages of these properties can then be obtained given a networks connectivity and size.

One indicator of reservoir performance used both in \cite{rbn-reservoir} and in section \ref{section:pre-thesis-project} is Computational Capability,
but what others are there?
Is there a deeper link between a well-performing RBN used for computation and its topology and dynamical properties?
What correlation, if any, is there between a RBNs number of attractors, their lengths, and its computational powers?
If a relationship is found, does a change in task complexity constrain what the averages of those values are?
Such a finding can aid in the construction of RBNs by generative genomes,
by favoring those which generate an optimal set of attractors for instance.

The number of attractors and their lengths will be calculated by help of the SAT-solver described in section \ref{section:computing-attractors}.
It allows for reservoirs with a size of up to 26 to be analyzed within reasonable time limits.
The task Temporal Density will be used to investigate the attractor-accuracy relationship,
as $ n\_nodes = 26 $ is on the verge of solving TD5 with 90\% accuracy \ref{tab:accuracy-thresholds}.
Temporal Parity would require too large a reservoir (at least 70).
Parameters for the experiment are shown in table \ref{tab:reservoir-dynamics-parameters}

\begin{table}[h]
    \centering
    \caption{Parameters for analysis of reservoir dynamics}
    \label{tab:reservoir-dynamics-parameters}
    \begin{tabular}{ll}
        \hline
        \textbf{Parameter} & \textbf{Configuration} \\
        \hline
        \hline
        Task                & Temporal Density 3 and 5  \\
        Nodes               & 26                        \\
        Connectivity        & 3                         \\
        Input connectivity  & 13                        \\
        Output connectivity & 26                        \\
        Sample size         & 500 \\
        \hline
    \end{tabular}
\end{table}

\subsection{Results}

The distributions of the attractors and corresponding lengths for each set of 500 generated RBNs for TD3 and TD5 are shown in figures \ref{fig:attractor-overview-TD3} and \ref{fig:attractor-overview-TD5}.
The 273 RBNs which gained at least 95\% accuracy on TD3 are shown in figure \ref{fig:attractor-results-TD3}.
For TD5 the threshold is lowered to 85\%,
with the 116 matching RBNs this criteria shown in figure \ref{fig:attractor-results-TD5}.

It is difficult to find theoretical estimates for the mean number of attractors and their lengths for RBNs with connectivities other than $ K = 1 $ \cite{drossel2005number} and $ K = 2 $ \cite{samuelsson2003superpolynomial}.
The combined distribution of 1000 RBNs (500 from TD3, 500 from TD5) is therefore used to gain an empirical intuition of what the expected values might be,
and is shown in figure \ref{fig:attractor-results-combined}.

The means of the attractor lengths and corresponding number of attractors for each of the figures in \ref{fig:attractor-overview} are tabulated in table \ref{tab:attractor-values}.

\begin{table}[h]
    \centering
    \caption{Means and medians of the different RBN subsets' attractor lengths and number of attractors}
    \label{tab:attractor-values}
    \begin{tabular}{llllll}
        \hline
        \hline
        & \textbf{Minimum} & \multicolumn{2}{l}{\textbf{Attractor length}} & \multicolumn{2}{l}{\textbf{Number of attractors}} \\
        & \textbf{Accuracy} & Mean & Median & Mean & Median \\
        \hline
        TD3 & 95\% & 13.90 & 8.67 & 5.97 & 5.00 \\
            & ALL  & 13.45 & 8.50 & 5.98 & 5.00 \\

        TD5 & 85\% & 11.79 & 7.90 & 6.20 & 5.00 \\
            & ALL  & 12.44 & 7.67 & 6.09 & 5.00 \\

        TD3+TD5 & ALL & 12.95 & 8.12 & 6.04 & 5.00 \\
        \hline
    \end{tabular}
\end{table}

\begin{figure*}
    \centering
    \caption{
        Figures \ref{fig:attractor-overview-TD3} and \ref{fig:attractor-results-TD3} show the distribution of the 500 RBNs generated for TD3,
        and the 273 of 500 that had an $ accuracy >= 0.95\% $ on TD3, respectively.
        Figures \ref{fig:attractor-overview-TD5} and \ref{fig:attractor-results-TD5} show the distribution of the 500 RBNs generated for TD5,
        and the 116 of 500 that had an $ accuracy >= 0.85\% $ on TD5, respectively.
        Figure \ref{fig:attractor-results-combined} shows the combined distribution of mean attractor lengths and number of attractors for for all 1000 generated RBNs.
        It is used as an estimate of the common values for RBNs with parameters $ K=3, p=0.5, N=26 $.
    }
    \label{fig:attractor-overview}
    \resizebox{\textwidth}{!}{
        \subfloat[TD3 distribution]{
            \label{fig:attractor-overview-TD3}
            \myheatmap
                {experiments/results/sat-3/all-rbns-heatmap.dat}
                {Number of attractors}
                {Mean attractor length}
                {6}
        }
        \subfloat[TD3, $accuracy >= 95\%$]{
            \label{fig:attractor-results-TD3}
            \myheatmap
                {experiments/results/sat-3/heatmap.dat}
                {Number of attractors}
                {Mean attractor length}
                {6}
        }
    }
    \resizebox{\textwidth}{!}{
        \subfloat[TD5]{
            \label{fig:attractor-overview-TD5}
            \myheatmap
                {experiments/results/sat-5/all-rbns-heatmap.dat}
                {Number of attractors}
                {Mean attractor length}
                {6}
        }
        \subfloat[TD5, $accuracy >= 85\%$]{
            \label{fig:attractor-results-TD5}
            \myheatmap
                {experiments/results/sat-5/heatmap.dat}
                {Number of attractors}
                {Mean attractor length}
                {6}
        }
    }
    \resizebox{0.5\textwidth}{!}{
        \subfloat[Combined distribution of all 1000 RBNs]{
            \label{fig:attractor-results-combined}
            \myheatmap
                {experiments/results/sat-5/combined-3-5-data.dat}
                {Number of attractors}
                {Mean attractor length}
                {10}
        }
    }
\end{figure*}

\subsection{Discussion}

Comparing plots \ref{fig:attractor-overview-TD3} to \ref{fig:attractor-results-TD3},
and \ref{fig:attractor-overview-TD5} to \ref{fig:attractor-results-TD5},
one notices a trend.
The distribution of accurate reservoirs seems to largely mimic the overall reservoir distribution.
The assumption is confirmed by comparing the average values for each group of RBNs in table \ref{tab:attractor-values}.
There is a minisculine difference in the means and medians of TD3 95\% versus all TD3,
equally so for TD5 85\% versus all TD5.

From this one could conclude that there's no correlation between the number of attractors, their length, and reservoir task performance.
There are simply more RBNs with a mean number of attractors of 5 and mean length of ~8 than other values,
resulting in a higher number of accurate reservoirs located around the same values.
In \cite{rbn-reservoir} the authors note that for Reservoir Computing,
computation cannot depend on the attractors of the system,
due to the continious perturbation.
The system can still enter attractors however,
at which point computation would cease to be productive.
For the RRC systems benched in this paper,
the large amount of perturbation (input connectivities of 50\%) would require attractors to have humongous basins to successfully prevent computation.
Small attractor basins and large transient times could still be indicators of reservoir performance,
as they would allow for more paths through statespace, lessening the chance that a perturbation ends the system in an attractor.

As criticality is an indicator of reservoir performance,
looking into the relationship between criticality and network topology might be interesting.
Finally, one can still use other metrics to evaluating RRC performance before the fact,
such as computational capability (section \ref{section:computational-capability}).
